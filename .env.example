# ============================================
# Project Lazarus - Environment Variables
# ============================================
# Copy this file to .env.local and fill in your values
# cp .env.example .env.local
#
# DO NOT commit .env.local to version control

# ============================================
# Supabase (Required for runtime)
# ============================================
# Per Supabase docs: https://supabase.com/docs/guides/api/api-keys
# New keys (recommended): Publishable + Secret. Legacy: anon + service_role
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY=sb_publishable_your_key

# Server-side only (bypasses RLS). Get from: Settings > API Keys
SUPABASE_SECRET_KEY=sb_secret_your_key

# PostgreSQL connection for Better Auth (separate from Supabase JS client)
# Direct connection - get from: Supabase Dashboard > Settings > Database > Connection string > URI
# Format: postgresql://postgres:[PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres
# If password has special chars (#$@ etc), URL-encode them (e.g. $ → %24, # → %23)
SUPABASE_DB_URL=postgresql://postgres:[YOUR-PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres

# ============================================
# Better Auth (Required for runtime)
# ============================================
# Secret key (REQUIRED - minimum 32 characters)
# Generate: openssl rand -base64 32
BETTER_AUTH_SECRET=your-secret-key-minimum-32-characters-long-change-this

# App base URL
# Development: http://localhost:3000
# Production: https://yourdomain.com
BETTER_AUTH_URL=http://localhost:3000

# ============================================
# Redis (Optional - for job queues)
# ============================================
# Local: redis://localhost:6379
# Docker: redis://redis:6379
REDIS_URL=redis://localhost:6379

# ============================================
# Google OAuth (Optional)
# ============================================
# Get from: https://console.cloud.google.com/apis/credentials
# Add redirect URI in Google Console:
#   Dev:   http://localhost:3000/api/auth/callback/google
#   Prod:  https://yourdomain.com/api/auth/callback/google
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# ============================================
# Email - Resend (Optional)
# ============================================
# Get from: https://resend.com/api-keys
RESEND_API_KEY=
EMAIL_FROM=Project Lazarus <noreply@projectlazarus.ai>

# ============================================
# File Uploads - Uploadthing (Optional)
# ============================================
# Get from: https://uploadthing.com/dashboard
UPLOADTHING_TOKEN=

# ============================================
# AI Configuration (Optional)
# ============================================
GEMINI_API_KEY=
OPENAI_API_KEY=
ANTHROPIC_API_KEY=
TAVILY_API_KEY=

# ============================================
# Organization Settings (Optional)
# ============================================
ORGANIZATION_LIMIT=5
MEMBERSHIP_LIMIT=100

# ============================================
# Stripe Billing (Optional)
# ============================================
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
STRIPE_PRICE_ID_FREE=
STRIPE_PRICE_ID_PRO=
STRIPE_PRICE_ID_ENTERPRISE=

# ============================================
# Analytics & Monitoring (Optional)
# ============================================
NEXT_PUBLIC_POSTHOG_KEY=
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com
SENTRY_DSN=
SENTRY_AUTH_TOKEN=

# ============================================
# Daytona Sandbox (Optional - for Code-Synapse)
# ============================================
# Per Daytona SDK: https://www.daytona.io/docs/en/typescript-sdk
# Get API key: https://app.daytona.io/dashboard/keys
DAYTONA_API_KEY=
# API URL (defaults to https://app.daytona.io/api if not set)
DAYTONA_API_URL=https://app.daytona.io/api
# Target region: us, eu, etc.
DAYTONA_TARGET=us
# Snapshot name for more RAM (avoids OOM during pnpm install). Default: daytona-medium (4GiB).
# Options: daytona-small (1GiB), daytona-medium (4GiB), daytona-large (8GiB)
DAYTONA_SNAPSHOT=daytona-medium

# ============================================
# Code-Synapse CLI (Optional)
# ============================================
# Path to code-synapse binary (default: "code-synapse" from PATH)
CODE_SYNAPSE_CLI_PATH=code-synapse
# Set to "true" to skip LLM justification (faster indexing)
CODE_SYNAPSE_SKIP_JUSTIFY=false
# Base path for cloned repos when NOT using Daytona
WORKSPACES_ROOT=./workspaces

# ============================================
# OpenHands Agent (Optional)
# ============================================
# URL of the OpenHands agent service (default: http://localhost:3001)
OPENHANDS_API_URL=http://localhost:3001

# ============================================
# MCP Servers (Optional - for Two Brains)
# ============================================
# Left Brain (Code-Synapse REST API) - code structure analysis
LEFT_BRAIN_API_URL=http://localhost:3100
# Right Brain (Knowledge Extraction Service) - behavioral analysis via REST API
RIGHT_BRAIN_API_URL=http://localhost:8000

# ============================================
# noVNC Browser Stream (Optional - for live view)
# ============================================
# URL of the noVNC websocket proxy (default: http://localhost:6080)
NOVNC_URL=http://localhost:6080
NEXT_PUBLIC_NOVNC_URL=http://localhost:6080

# ============================================
# Local Build Workspace (Optional)
# ============================================
# Root directory for local slice build workspaces
WORKSPACE_ROOT=./workspace

# ============================================
# App URL (Optional)
# ============================================
NEXT_PUBLIC_APP_URL=http://localhost:3000
